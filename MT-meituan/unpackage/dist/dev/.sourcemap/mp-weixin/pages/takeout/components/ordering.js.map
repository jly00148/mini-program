{"version":3,"sources":[null,"webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?edb0","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?25e7","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?037b","uni-app:///pages/takeout/components/ordering.vue","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?5359","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?e2d6"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAhBA,EAgBA,EAhBA;;AAkBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA,KAjEA,EA5OA;;AA+SA;AACA,qCADA;;AAGA,cAHA,wBAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAxBA;;AA0BA,kBA1BA,4BA0BA;AACA,oCADA,gDACA,UADA,CACA,UADA,uCACA,EADA,yEACA,QADA,CACA,QADA,uCACA,EADA,yEACA,MADA,CACA,MADA,uCACA,EADA;AAEA;AACA,8BADA;AAEA,0BAFA;AAGA,sBAHA;;AAKA;AACA;AACA;;AAEA;AACA,KAtCA,GA/SA;;AAuVA;AACA,SAxVA,qBAwVA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KARA,EAQA,GARA;AASA,GApWA,E;;;;;;;;;;;;;AC3GA;AAAA;AAAA;AAAA;AAAy9B,CAAgB,m9BAAG,EAAC,C;;;;;;;;;;;ACA7+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"","<!-- 点击点菜显示的部分 -->\n<template>\n\t<view>\n\t\t\t<!-- 左边 -->\n\t\t<view class=\"ordering-fls\">\n\t\t\t<view class=\"ordering-left\">\n\t\t\t\t<block v-for=\"(item,index) in orderList\" :key=\"index\">\n\t\t\t\t\t<text :class=\"{leftRctiveord:index == num}\" @click=\"clickOrderList(item,index)\">{{item}}</text>\n\t\t\t\t</block>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 右边 -->\n\t\t\t<view class=\"ordering-right\">\n\t\t\t\t<text class=\"ordering-right-title\">{{leftItemChange}}</text>\n\t\t\t\t<view>\n\t\t\t\t\t<block v-for=\"(item,index) in newRightArr\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"content-view\">\n\t\t\t\t\t\t\t<!-- 左边商品图片 -->\n\t\t\t\t\t\t\t<view class=\"content-img\">\n\t\t\t\t\t\t\t\t<image mode=\"aspectFill\" :src=\"item.image\"></image>\n\t\t\t\t\t\t\t</view> \n\t\t\t\t\t\t\t<!-- 右边商品 -->\n\t\t\t\t\t\t\t\t<view class=\"content-title\">\n\t\t\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.input}}</text>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\n\t\t\t\t\t\t\t\t\t\t<block v-for=\"(tagItem,index) in item.tags\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t\t\t<text>{{tagItem}}</text>\n\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-starting\">\n\t\t\t\t\t\t\t\t\t\t<text>月售10</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-price\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.Discount}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.Price}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\n\t\t\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jianhao.png\" \n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" \n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.amount,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.Discount,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.image,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.input\n\t\t\t\t\t\t\t\t\t\t\t\t)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\n\t\t\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jiahao.png\" \n\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" \n\t\t\t\t\t\t\t\t\t\t\t@click=\"add(\n\t\t\t\t\t\t\t\t\t\t\t\titem.amount,\n\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\titem.id,\n\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\titem.Discount,\n\t\t\t\t\t\t\t\t\t\t\t\titem.image,\n\t\t\t\t\t\t\t\t\t\t\t\titem.input\n\t\t\t\t\t\t\t\t\t\t\t)\"\n\t\t\t\t\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 总价计算区域 -->\n\t\t<view class=\"total\">\n\t\t\t<!-- 骑手 -->\n\t\t\t<view class=\"qishou\">\n\t\t\t\t<image src=\"../../../static/coen/weigou.png\" v-show=\"showOrHide\" mode=\"widthFix\"></image>\n\t\t\t\t<image src=\"../../../static/coen/yigou.png\" v-show=\"!showOrHide\" mode=\"widthFix\"></image>\n\t\t\t</view>\n\t\t\t<!-- 多少量 -->\n\t\t\t<view class=\"Numbering\">{{allNums}}</view>\n\t\t\t<!-- 金额 -->\n\t\t\t<view class=\"total-dis\">\n\t\t\t\t<view class=\"total-left\">\n\t\t\t\t\t<view class=\"Cost-mony\">\n\t\t\t\t\t\t<text class=\"Total-price\">¥{{eachCounts}}</text>\n\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{initBottomData.delivering}}元</text>\n\t\t\t\t\t</view> \n\t\t\t\t</view>\n\t\t\t\t<view class=\"total-right\">\n\t\t\t\t\t<text class=\"capita\">{{initBottomData.capita}}元起送</text>\n\t\t\t\t\t<text>还差{{priceDifer}}元</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"pay\" :class=\"{changePayClsss:changePayClsss==true}\" @click=\"settleMent()\">\r\n\t\t\t\t\t<text>总计:{{payMoney}}</text>\r\n\t\t\t\t</view>\t\t\t\t\n\t\t\t</view>\n\t\t</view>\r\n\t\t<modal ref=\"mod\"></modal>\n\t</view>\n</template>\n\n<script>\n\timport { mapState } from 'vuex';\n\timport modal from '../../../modal/modal.vue'\r\n\t\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tmodal\r\n\t\t},\n\t\tprops:{\n\t\t\torderingdata:Array,\n\t\t\t// busidata:Array\n\t\t},\n\t\t data(){\n\t\t\t return {\n\t\t\t\t // 左边分类\n\t\t\t\torderList:[],\n\t\t\t\t\n\t\t\t\t// 点击左边分类后右边展示的数据\n\t\t\t\tnewRightArr:[],\n\t\t\t\t\n\t\t\t\t// 初始化使其显示分类的盖浇饭部分\n\t\t\t\tleftItemChange:'盖浇饭',\n\t\t\t\t\n\t\t\t\t// 初始化使其第一项(点菜)添加css\n\t\t\t\tnum:0,\n\t\t\t\t\n\t\t\t\tdelivering:0,\n\t\t\t\tphysical:null,\n\t\t\t\tcapita:null,\n\t\t\t\t\n\t\t\t\t// 每一份价格(初始值为0)\n\t\t\t\teachCounts:0,\n\t\t\t\t\n\t\t\t\t// 点击添加或者减少把数组存入数组\n\t\t\t\tallOrderPrice:[],\n\t\t\t\t\n\t\t\t\t// 当选择的份数是否为0切换图片\n\t\t\t\tshowOrHide:true,\n\t\t\t\t\n\t\t\t\t// 显示的总份数\n\t\t\t\tallNums:0,\r\n\t\t\t\t\r\n\t\t\t\t// 满足起送价改变颜色\n\t\t\t\tchangePayClsss:false,\r\n\t\t\t\t\r\n\t\t\t\t// 总价包括运送费+食物价格\n\t\t\t\tpayMoney:0\n\t\t\t }\n\t\t },\n\t\t methods:{\n\t\t\t // 点击上边相应切换点菜。评价等商家\n\t\t\tclickOrderList(item,index){\n\t\t\t\t\n\t\t\t\t// 点击切换左边(点菜、评论以及商家)的分类添加样式\n\t\t\t\tthis.num = index;\n\t\t\t\t\n\t\t\t\t// 右边切换相应的分类(比如盖浇饭、小吃等等小词条)\n\t\t\t\tthis.leftItemChange = item;\n\t\t\t\t\n\t\t\t\t// 将词条传递给rightItemChange函数，方便watch监听数据变化后立即有个默认的数据展示，\n\t\t\t\t// 没有用mounted原因是mounted在watch执行之前，获取不到watch监听的数据，所以在watch监听数据变化后\n\t\t\t\t// 立即调用rightItemChange函数\n\t\t\t\tthis.rightItemChange(item);\n\t\t\t},\n\t\t\t// 点击左边相应切换右边\n\t\t\trightItemChange(item){\n\t\t\t\tvar newRightarr = [];\n\t\t\t\t\n\t\t\t\t// nums值是点击加号或者减号产生的份数,给数组this.orderingdata中的每个对象添加一个属性amount,值为nums,0意味初始化点餐份数为0\n\t\t\t\tvar nums = 0;\n\t\t\t\t\n\t\t\t\tfor(var i = 0;i<this.orderingdata.length;i++){\n\t\t\t\t\tthis.orderingdata[i].objdis.amount = nums;\n\t\t\t\t\tthis.orderingdata[i].objdis.id = this.orderingdata[i]._id;\n\t\t\t\t\t// 点击左边并且把item参数(盖浇饭小吃等)传进来和this.orderingdata[i].optidata是否相等去重相关多余的(左边)\n\t\t\t\t\tif(this.orderingdata[i].optidata == item){\n\t\t\t\t\t\tnewRightarr.push(this.orderingdata[i].objdis)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.newRightArr = newRightarr;\n\t\t\t},\n\t\t\t// 点击+号增加份数\n\t\t\t// 点击左边和页面初始化共通调用函数\n\t\t\tclickOrInitLoad(newValue){\n\t\t\t\tlet classifdata = newValue.map(item=>{\n\t\t\t\t\t// 将数组中的对象下的optidata属性对象返回成一个新数组\n\t\t\t\t\treturn item.optidata;\n\t\t\t\t})\n\t\t\t\t// 左边分类去重\n\t\t\t\tthis.orderList = Array.from(new Set(classifdata))\n\t\t\t\t\n\t\t\t\t// 立即调用rightItemChange函数使其默认展示盖浇饭的数据\n\t\t\t\tthis.rightItemChange(this.leftItemChange)\n\t\t\t},\n\t\t\t// initBottomData(delivering,physical,capita){\n\t\t\t// \tthis.delivering = delivering;\n\t\t\t// \tthis.physical = physical;\n\t\t\t// \tthis.capita = capita;\n\t\t\t// },\n\t\t\tadd(amount,index,id,state,price,image,input){\n\t\t\t\tthis.addOrReduce(amount,index,id,state,price,image,input)\n\t\t\t\t// 方法一：更改this.newRightArr[index].amount中的amount值;\n\t\t\t\t// 限制购买10份：\n\t\t\t\t// amount < 10 ? amount++ : amount = 10;\n\t\t\t\t// this.newRightArr[index].amount = amount;\n\t\t\t\t// var findArr = this.newRightArr.map(item=>{\n\t\t\t\t// \treturn item;\n\t\t\t\t// })\n\t\t\t\t// 注意点：必需要有一个新数组赋值给this.newRightArr，直接在this.newRightArr中更改无效\n\t\t\t\t// this.newRightArr = findArr;\n\t\t\t\t\n\t\t\t\t// ----------------------------------------------------------------------------------------------------------\n\t\t\t\t\n\t\t\t\t// 方法二：需要在add中传递参数amount和input值\n\t\t\t\t// \tlet findArr = this.newRightArr.filter(item=>{\n\t\t\t\t// \t\tif(item.input == input){\n\t\t\t\t// \t\t\tif(amount < 0){\n\t\t\t\t// \t\t\t\treturn item.amount = 0;\n\t\t\t\t// \t\t\t}else{\n\t\t\t\t// \t\t\t\treturn item.amount = amount+1;\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\t\t\t\t// \t})\n\t\t\t\t// \tthis.newRightArr = findArr;\n\t\t\t},\n\t\t\t// 点击-号减少份数(与点击增加相同，可以封装一个函数：addOrReduce)\n\t\t\treduce(amount,index,id,state,price,image,input){\n\t\t\t\tthis.addOrReduce(amount,index,id,state,price,image,input)\n\t\t\t\t// 防重复点击：\n\t\t\t\t// if(amount == this.clickReduce){\n\t\t\t\t// \treturn;\n\t\t\t\t// }else{\n\t\t\t\t// \tthis.clickReduce = amount;\n\t\t\t\t// }\n\t\t\t\t// // 判断份数是否为0\n\t\t\t\t// amount <= 0 ? amount = 0  : amount--;\n\t\t\t\t// this.newRightArr[index].amount = amount;\n\t\t\t\t// var findArr = this.newRightArr.map(item=>{\n\t\t\t\t// \treturn item;\n\t\t\t\t// })\n\t\t\t\t// this.newRightArr = findArr;\n\t\t\t\t\n\t\t\t},\n\t\t\t// 封装点击增加和减少函数\n\t\t\taddOrReduce(amount,index,id,state,price,image,input){\n\t\t\t\t/*\n\t\t\t\t*state=1 点击的是增加\n\t\t\t\t*state：-1 点击的是减少\n\t\t\t\t*/\n\t\t\t   \n\t\t\t   // 点的是加号\n\t\t\t\tif(state == 1){\n\t\t\t\t\tamount++;\n\t\t\t\t\t\n\t\t\t\t\t//份数x单价:\n\t\t\t\t\t// parseFloat() 函数可解析一个字符串(这里传的是数字也可以)，并返回一个浮点数，浮点数有toFixed方法，保留小数点后几位\n\t\t\t\t\tvar TotalPrice = parseFloat(amount*price).toFixed(2);\n\t\t\t\t\t\n// =======================================================点击+号把商品的信息存放到对象并且去重push到数组中======================================\n\t\t\t\t\t// 定义的空对象：放点击或者删除后生成的数据存入该对象\n\t\t\t\t\tconst deleteObjInArr = {\n\t\t\t\t\t\tTotalPrice,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tamount,\n\t\t\t\t\t\timage,\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tprice\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tthis.allOrderPrice.push(deleteObjInArr);\n\t\t\t\t\t\n\t\t\t\t\tlet newAllOrderPrice =  this.allOrderPrice.map(item=>{\n\t\t\t\t\t\treturn item.id == id ? deleteObjInArr : item;\n\t\t\t\t\t})\n\t\t\t\t\tthis.allOrderPrice = newAllOrderPrice;\n\t\t\t\t\t\n// =====================================================================点击+号结尾=============================================================\n\t\t\t\t}else{\n\t\t\t\t\t/*\t备注：\n\t\t\t\t\t\t*点的是-号\n\t\t\t\t\t\t*减少数量amount不能小于0\n\t\t\t\t\t*/\n\t\t\t\t\t// 判断amount是否小于0\n\t\t\t\t\tamount < 1 ? amount = 0 : amount--;\n\t\t\t\t\t\n\t\t\t\t\tvar TotalPrice = amount * price\n\t\t\t\t\t\n// =======================================================点击-号把商品的信息存放到对象并且去重push到数组中======================================\n\t\t\t\t\t\n\t\t\t\t\t// 定义的空对象：放点击或者删除后生成的数据存入该对象\n\t\t\t\t\tconst deleteObjInArr = {\n\t\t\t\t\t\tTotalPrice,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tamount,\n\t\t\t\t\t\timage,\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tprice\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tthis.allOrderPrice.push(deleteObjInArr);\n\t\t\t\t\t\n\t\t\t\t\tlet newAllOrderPrice =  this.allOrderPrice.map(item=>{\n\t\t\t\t\t\treturn item.id == id ? deleteObjInArr : item;\n\t\t\t\t\t})\n\t\t\t\t\tthis.allOrderPrice = newAllOrderPrice;\n// ================================================================点击-号结尾===================================================================\n\t\t\t\t}\n\t\t\t\t\n// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++加减公共部分++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\t\t\t\t\t// \n\t\t\t\t\t// 点的商家里的第几个商品,将其属性amount并且属性值改为amount经过计算后的赋值\n\t\t\t\t\tthis.newRightArr[index].amount = amount;\n\t\t\t\t\t\n\t\t\t\t\t// 变更amount后重新遍历数组返回新的数组findArr\n\t\t\t\t\tvar findArr = this.newRightArr.map(item=>{\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 遍历完成后赋值给 this.newRightAr,然后遍历到内容中\n\t\t\t\t\tthis.newRightArr = findArr;\n// ++++++++++++++++++++++++++++++++++++++++++++++++++++++公共部分++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 去结算\r\n\t\t\tsettleMent(){\r\n\t\t\t\tif(this.changePayClsss == false){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet setdata = uni.getStorageSync('userInfo')\r\n\t\t\t\t\tif(setdata){\r\n\t\t\t\t\t\t// 有本地缓存代表用户已登录，不需要弹出模拟登录框\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 反之未登录，需要弹出模拟登录框\r\n\t\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\t\tthis.$refs.mod.init()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t },\n\t\t watch:{\n\t\t\t// 用户进入页面默认展示第一个tab键上(盖浇饭),并且展示第一个tab键下的内容\n\t\t\torderingdata(newValue){\n\t\t\t\tthis.clickOrInitLoad(newValue)\n\t\t\t},\n\t\t\t// 总价计算区域中的配送费，起送价、原价\n\t\t\t// busidata(newValue){\n\t\t\t// \tconst { delivering,physical,capita } = newValue[0];\n\t\t\t// \t// 暂存一下数组newValue[0],为什么要暂存？因为mounted在watch之前执行，暂存数组留着mounted使用，否则mounted拿不到数据(如果不适用定时器的话)\n\t\t\t// \tthis.initBottomData(delivering,physical,capita)\n\t\t\t// }\n\t\t\t\n\t\t\t// 监听allOrderPrice\n\t\t\tallOrderPrice(){\n\t\t\t\t// 监听总价\n\t\t\t\t // 数组对象去重：累加器reduce()\n\t\t\t\t\tlet testObj = {}\n\t\t\t\t\tlet uniqueArr = this.allOrderPrice.reduce((pre,cur)=>{\n\t\t\t\t\t\t// console.log(pre)\n\t\t\t\t\t\t// console.log(cur)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 下面中三元判断说明：\n\t\t\t\t\t\t// 1).? '' 代表testObj对象中能找到index的值，不需要push到数组中的，因此不做任何改变保持原样\n\t\t\t\t\t\t// 2:testObj[cur.index] = true 代表testObj不能找到index的值，因此需要push到数组中testObj[cur.index] = true &&\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 方法一：testObj[cur.id] ? '' :  testObj[cur.id] = true && pre.push(cur)\n\t\t\t\t\t\t// 方法二：(判断重复也是不变的上次pre，一下是push改变后的pre)\n\t\t\t\t\t\tif(!testObj[cur.id]){\n\t\t\t\t\t\t\ttestObj[cur.id]=cur.id;\n\t\t\t\t\t\t\tpre.push(cur)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn pre;\n\t\t\n\t\t\t\t\t},[])\n\t\t\t\t\t\n\t\t\t\t\t// ------------------------------------------------------------------------------------------------------------------------\n\t\t\t\t\t// 为获取最终结果预设的值\n\t\t\t\t\tvar temp = 0;\n\t\t\t\t\t\n\t\t\t\t\t// 外卖旗手旁边的累计数\n\t\t\t\t\tvar allNums = 0;\n\t\t\t\t\t\n\t\t\t\t\t// 计算商品总价：\n\t\t\t\t\tfor(var i = 0;i<uniqueArr.length;i++){\n\t\t\t\t\t\ttemp = temp + Number(uniqueArr[i].TotalPrice)\n\t\t\t\t\t\tallNums = allNums + Number(uniqueArr[i].amount)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 只赋值最终结果,浮点数修正(toFixed(1)参数1代表保留的小数点后1位)\n\t\t\t\t\tthis.eachCounts = parseFloat(temp).toFixed(1);\n\t\t\t\t\t\n\t\t\t\t\t//每种商品选择的份数总和\n\t\t\t\t\tthis.allNums = allNums;\n\t\t\t\t\t\n\t\t\t\t\tif(parseFloat(this.eachCounts) == 0){\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 当价格为0时，显示不保留的小数点后几位\n\t\t\t\t\t\tthis.eachCounts = 0;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 所有商品选择份数为0时显示的图片\n\t\t\t\t\t\tthis.showOrHide = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// 所有商品选择份数不为0时显示的图片\n\t\t\t\t\t\tthis.showOrHide = false;\n\t\t\t\t\t}\n\t\t\t}\n\t\t },\n\t\t computed:{\r\n\t\t\t ...mapState(['screendata']),\r\n\t\t\t \n\t\t\t priceDifer(){\r\n\t\t\t\t // 差价allPrice\r\n\t\t\t\tlet allPrice = parseFloat(Number(this.capita) - Number(this.eachCounts)).toFixed(1);\r\n\t\t\t\t\r\n\t\t\t\t// 差价为0时令其差价为0\r\n\t\t\t\tif(allPrice <= 0){\r\n\t\t\t\t\tallPrice=0;\r\n\t\t\t\t\t// 黄色\r\n\t\t\t\t\tthis.changePayClsss=true\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 灰色\r\n\t\t\t\t\tthis.changePayClsss=false\r\n\t\t\t\t\tthis.allMoneys = false;\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.eachCounts = Number(this.eachCounts);\r\n\t\t\t\tthis.delivering = Number(this.delivering);\r\n\t\t\t\t\r\n\t\t\t\tthis.payMoney = parseFloat(this.eachCounts + this.delivering).toFixed(1);\r\n\t\t\t\tthis.payMoney == this.delivering ? this.payMoney = 0 : ''\n\t\t\t\treturn allPrice;\n\t\t\t },\r\n\t\t\t \n\t\t\t initBottomData(){\r\n\t\t\t\t const { delivering='',physical='',capita='' } = this.screendata.busidataarr[0];\r\n\t\t\t\t const  initBottomDataObj = {\r\n\t\t\t\t\t delivering:delivering,\r\n\t\t\t\t\t physical:physical,\r\n\t\t\t\t\t capita:capita\r\n\t\t\t\t }\r\n\t\t\t\t this.delivering = delivering;\r\n\t\t\t\t this.physical = physical;\r\n\t\t\t\t this.capita = capita;\r\n\t\t\t\t \r\n\t\t\t\t return initBottomDataObj;\r\n\t\t\t }\n\t\t },\n\t\t // \n\t\t mounted() {\n\t\t\t // 为什么要使用setTimeout定时器？令其要让mounted在watch在mounted之前调用，watch暂存数据后,mounted才可以拿到暂存的数据\n\t\t\t \n\t\t\t setTimeout(()=>{\n\t\t\t\t // 当页面加载完成时渲染页面与上orderingdata(newValue)类似，以上需要点击\n\t\t\t\t this.clickOrInitLoad(this.orderingdata);\n\t\t\t\t \n\t\t\t\t// const { delivering,physical,capita } = this.screendata.busidataarr[0];\r\n\t\t\t\t// console.log(this.screendata.busidataarr[0])\r\n\t\t\t\t\n\t\t\t\t// this.initBottomData(delivering,physical,capita)\n\t\t\t },400)\n\t\t }\n\t}\n</script>\n<style scoped>\n\t.ordering-fls{display: flex; justify-content: space-between;}\n\t/* 左边商品分类 */\n\t.ordering-left{width: 190upx; background: #F0F0F0;\n\toverflow-y: auto;\n\theight: 100%;\n\t}\n\t.ordering-left text{\n\tcolor: #a8a8a8;\n\tdisplay: block;\n\tfont-size: 28upx;\n\theight: 80upx;\n\tline-height: 80upx;\n\ttext-align: center;}\n\t.leftRctiveord{background-color: #fafafa !important; font-weight: bold !important;}\n\t\n\t/* 右边 */\n\t.ordering-right{width: 100%;\n\tpadding: 9upx 9upx 9upx 9upx;\n\toverflow: hidden;\n\toverflow-y: auto;\n\t}\n\t.ordering-right-title{font-size: 28upx;\n\theight: 60upx;\n\tline-height: 60upx;}\n\t\n\t.content-view{\n\tdisplay: flex; justify-content: space-between;\n\theight: 200upx !important; overflow: hidden;\n\tmargin: 30upx 0;\n\tcolor: #898989;\n\t}\n\t.content-img{width: 180rpx !important; height: 200rpx !important;\n\toverflow: hidden;\n\t}\n\t.content-img image{width: 100%; height: 100%; border-radius: 10upx;\n\toverflow: hidden;}\n\t.content-title{\n\t/* width: 100%; */\n\tpadding-left: 10upx;\n\tfont-size: 24upx;\n\t}\n\t\n\t.conteng-take{\n\tcolor: #333333;\n\theight: 50upx; font-size: 33upx;\n\tfont-weight: bold;\n\tline-height: 50upx;\n\tdisplay: -webkit-box;\n\t-webkit-box-orient: vertical;\n\t-webkit-line-clamp: 1;\n\toverflow: hidden;}\n\t.conteng-monthly{display: flex;\n\t}\n\t.conteng-monthly text{background: #f1f1f1;\n\tmargin-right: 9upx;\n\tpadding: 4upx 13upx;\n\tborder-radius: 7upx;\n\tdisplay: block;\n\t}\n\t.conteng-starting{display: flex;\n\talign-items: center;\n\theight: 50upx;\n\tline-height: 50upx;}\n\t.conteng-price image{width: 60upx; height: 60upx;}\n\t.conteng-price{display: flex; align-items: center;width:346.32upx ;}\n\t.ordering-price{display: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tmargin-right: 20upx;\n\twidth: 100%;\n\t}\n\t/* 数量 */\n\t.amounting{\n\twidth: 50upx;\n\ttext-align: center;}\n\t.conteng-hua{text-decoration: line-through;font-size: 33upx;\n\t}\n\t.conteng-shi{color: #fb4e44; font-size: 33upx;\n\twidth: 180upx;\n\toverflow: hidden;\n\t}\n\t\n\t/* 购物车 */\n\t.total{position: fixed;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\twidth: 100%;\n\t}\r\n\t.total-dis{\r\n\t\tdisplay: flex;\r\n\t\theight: 130upx;\r\n\t\tmargin: 0 20upx;\r\n\t}\n\t.total-left{\r\n\t\tflex-grow: 1;\n\t\theight: 130upx;\n\t\tbackground: #000000; \r\n\t\tborder-top-left-radius: 50upx;\n\t\tborder-bottom-left-radius: 50upx;\n\t}\n\t.total-right{\r\n\t\tdisplay: flex;\r\n\t\twidth: 200upx;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-grow: 1;\r\n\t\theight: 130upx;\n\t\tline-height: 130upx;\n\t\tfont-size: 30upx;\n\t\tcolor: #7f7f7f;\n\t\ttext-align: center;\n\t\tbackground: #000000; \r\n\t}\n\t.total-dis text{\r\n\t\tfont-size: 25upx;\r\n\t}\n\t.total-right .capita{\n\t\tcolor: #FFD100;\n\t}\n\t.pay{\r\n\t\twidth: 100upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-grow: 1;\r\n\t\tborder-top-right-radius: 50upx;\n\t\tborder-bottom-right-radius: 50upx;\n\t\tbackground-color: grey;\n\t\talign-items: center;\n\t}\r\n\t.changePayClsss{\r\n\t\tbackground-color: #FFD100 !important;\r\n\t}\n\t.qishou{width: 120upx; height: 150upx;\n\tposition: fixed;\n\tbottom: 0upx;\n\tleft: 50upx;\n\t}\n\t.qishou image{width: 120upx; height: 150upx !important;}\n\t/* 定位 */\n\t.Delivery{color: #999999;\n\tfont-size: 28upx;\n\theight: 65upx;}\n\t.total-left text{display: block;}\n\t.Total-price{font-size: 40upx; color: #FFFFFF;\n\theight: 65upx;\n\tline-height: 65upx;\n\t}\n\t.Cost-mony{padding-left: 170upx; color: #4CD964;\n\theight: 100upx;\n\t}\n\t/* 数量 */\n\t.Numbering{\n\tbackground: red;\n\twidth: 40upx;\n\theight: 40upx;\n\tborder-radius: 50%;\n\tfont-size: 20upx;\n\tcolor: #FFFFFF;\n\ttext-align: center;\n\tline-height: 40upx;\n\tposition: fixed;\n\tbottom: 50upx;\n\tleft: 130upx;}\n\t\n\t/* 选中菜品 */\n\t.shoppactive{background: #ffd300 !important;\n\tcolor: #000000 !important;}\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628494650558\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}