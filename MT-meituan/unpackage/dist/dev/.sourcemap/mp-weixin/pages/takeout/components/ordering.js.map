{"version":3,"sources":["webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?df6a","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?edb0","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?25e7","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?037b","uni-app:///pages/takeout/components/ordering.vue","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?5359","webpack:///C:/Users/Pentium/senior/mini-program/MT-meituan/pages/takeout/components/ordering.vue?e2d6"],"names":[],"mappings":"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","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"","<!-- 点击点菜显示的部分 -->\r\n<template>\r\n\t<view>\r\n\t\t\t<!-- 左边 -->\r\n\t\t<view class=\"ordering-fls\">\r\n\t\t\t<view class=\"ordering-left\">\r\n\t\t\t\t<block v-for=\"(item,index) in orderList\" :key=\"index\">\r\n\t\t\t\t\t<text :class=\"{leftRctiveord:index == num}\" @click=\"clickOrderList(item,index)\">{{item}}</text>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 右边 -->\r\n\t\t\t<view class=\"ordering-right\">\n\t\t\t\t<text class=\"ordering-right-title\">{{leftItemChange}}</text>\n\t\t\t\t<view>\n\t\t\t\t\t<block v-for=\"(item,index) in newRightArr\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"content-view\">\n\t\t\t\t\t\t\t<!-- 左边商品图片 -->\n\t\t\t\t\t\t\t<view class=\"content-img\">\n\t\t\t\t\t\t\t\t<image mode=\"aspectFill\" :src=\"item.image\"></image>\n\t\t\t\t\t\t\t</view> \n\t\t\t\t\t\t\t<!-- 右边商品 -->\r\n\t\t\t\t\t\t\t\t<view class=\"content-title\">\n\t\t\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.input}}</text>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\n\t\t\t\t\t\t\t\t\t\t<block v-for=\"(tagItem,index) in item.tags\" key=\"index\">\n\t\t\t\t\t\t\t\t\t\t\t<text>{{tagItem}}</text>\n\t\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-starting\">\n\t\t\t\t\t\t\t\t\t\t<text>月售10</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-price\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.Discount}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.Price}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\n\t\t\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jianhao.png\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.amount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t-1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.Discount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.image,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.input\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\n\t\t\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jiahao.png\" \r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" \r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"add(\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.amount,\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.Discount,\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.image,\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.input\r\n\t\t\t\t\t\t\t\t\t\t\t)\"\r\n\t\t\t\t\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 总价计算区域 -->\n\t\t<view class=\"total\">\n\t\t\t<!-- 骑手 -->\n\t\t\t<view class=\"qishou\">\n\t\t\t\t<image src=\"../../../static/coen/weigou.png\" v-show=\"showOrHide\" mode=\"widthFix\"></image>\n\t\t\t\t<image src=\"../../../static/coen/yigou.png\" v-show=\"!showOrHide\" mode=\"widthFix\"></image>\n\t\t\t</view>\n\t\t\t<!-- 多少量 -->\n\t\t\t<view class=\"Numbering\">{{allNums}}</view>\n\t\t\t<!-- 金额 -->\n\t\t\t<view class=\"total-dis\">\n\t\t\t\t<view class=\"total-left\">\n\t\t\t\t\t<view class=\"Cost-mony\">\n\t\t\t\t\t\t<text class=\"Total-price\">¥{{eachCounts}}</text>\n\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{delivering}}元</text>\n\t\t\t\t\t</view> \n\t\t\t\t</view>\n\t\t\t\t<view class=\"total-right\" v-show=\"allMoneys\">\n\t\t\t\t\t<text class=\"capita\">{{capita}}元起送，</text>\n\t\t\t\t\t<text>还差{{priceDifer}}元</text>\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pay\" v-show=\"!allMoneys\">\n\t\t\t\t\t<text>总计:{{payMoney}}元,去支付</text>\n\t\t\t\t</view>\t\t\t\t\n\t\t\t</view>\n\t\t</view>\r\n\t</view>\r\n</template>\n\n<script>\r\n\timport { mapState } from 'vuex';\r\n\t\r\n\texport default{\r\n\t\tprops:{\r\n\t\t\torderingdata:Array,\r\n\t\t\t// busidata:Array\r\n\t\t},\r\n\t\t data(){\r\n\t\t\t return {\r\n\t\t\t\t // 左边分类\r\n\t\t\t\torderList:[],\r\n\t\t\t\t\r\n\t\t\t\t// 点击左边分类后右边展示的数据\r\n\t\t\t\tnewRightArr:[],\r\n\t\t\t\t\r\n\t\t\t\t// 初始化使其显示分类的盖浇饭部分\r\n\t\t\t\tleftItemChange:'盖浇饭',\r\n\t\t\t\t\r\n\t\t\t\t// 初始化使其第一项(点菜)添加css\r\n\t\t\t\tnum:0,\r\n\t\t\t\t\r\n\t\t\t\tdelivering:null,\r\n\t\t\t\tphysical:null,\r\n\t\t\t\tcapita:null,\r\n\t\t\t\t\r\n\t\t\t\t// 每一份价格(初始值为0)\r\n\t\t\t\teachCounts:0,\r\n\t\t\t\t\r\n\t\t\t\t// 点击添加或者减少把数组存入数组\r\n\t\t\t\tallOrderPrice:[],\r\n\t\t\t\t\r\n\t\t\t\t// 当选择的份数是否为0切换图片\r\n\t\t\t\tshowOrHide:true,\r\n\t\t\t\t\r\n\t\t\t\t// 显示的总份数\r\n\t\t\t\tallNums:0,\r\n\t\t\t\t\r\n\t\t\t\t// 切换需要支付的钱或者差价\r\n\t\t\t\tallMoneys:true,\r\n\t\t\t\t\r\n\t\t\t\tpayMoney:0\r\n\t\t\t }\r\n\t\t },\r\n\t\t methods:{\r\n\t\t\t // 点击上边相应切换点菜。评价等商家\r\n\t\t\tclickOrderList(item,index){\r\n\t\t\t\t\r\n\t\t\t\t// 点击切换左边(点菜、评论以及商家)的分类添加样式\r\n\t\t\t\tthis.num = index;\r\n\t\t\t\t\r\n\t\t\t\t// 右边切换相应的分类(比如盖浇饭、小吃等等小词条)\r\n\t\t\t\tthis.leftItemChange = item;\r\n\t\t\t\t\r\n\t\t\t\t// 将词条传递给rightItemChange函数，方便watch监听数据变化后立即有个默认的数据展示，\r\n\t\t\t\t// 没有用mounted原因是mounted在watch执行之前，获取不到watch监听的数据，所以在watch监听数据变化后\r\n\t\t\t\t// 立即调用rightItemChange函数\r\n\t\t\t\tthis.rightItemChange(item);\r\n\t\t\t},\r\n\t\t\t// 点击左边相应切换右边\r\n\t\t\trightItemChange(item){\r\n\t\t\t\tvar newRightarr = [];\r\n\t\t\t\t\r\n\t\t\t\t// nums值是点击加号或者减号产生的份数,给数组this.orderingdata中的每个对象添加一个属性amount,值为nums,0意味初始化点餐份数为0\r\n\t\t\t\tvar nums = 0;\r\n\t\t\t\t\r\n\t\t\t\tfor(var i = 0;i<this.orderingdata.length;i++){\r\n\t\t\t\t\tthis.orderingdata[i].objdis.amount = nums;\r\n\t\t\t\t\tthis.orderingdata[i].objdis.id = this.orderingdata[i]._id;\r\n\t\t\t\t\t// 点击左边并且把item参数(盖浇饭小吃等)传进来和this.orderingdata[i].optidata是否相等去重相关多余的(左边)\r\n\t\t\t\t\tif(this.orderingdata[i].optidata == item){\r\n\t\t\t\t\t\tnewRightarr.push(this.orderingdata[i].objdis)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.newRightArr = newRightarr;\r\n\t\t\t},\r\n\t\t\t// 点击+号增加份数\r\n\r\n\t\t\t// 点击左边和页面初始化共通调用函数\r\n\t\t\tclickOrInitLoad(newValue){\r\n\t\t\t\tlet classifdata = newValue.map(item=>{\r\n\t\t\t\t\t// 将数组中的对象下的optidata属性对象返回成一个新数组\r\n\t\t\t\t\treturn item.optidata;\r\n\t\t\t\t})\r\n\t\t\t\t// 左边分类去重\r\n\t\t\t\tthis.orderList = Array.from(new Set(classifdata))\r\n\t\t\t\t\r\n\t\t\t\t// 立即调用rightItemChange函数使其默认展示盖浇饭的数据\r\n\t\t\t\tthis.rightItemChange(this.leftItemChange)\r\n\t\t\t},\r\n\t\t\tinitBottomData(delivering,physical,capita){\r\n\t\t\t\tthis.delivering = delivering;\r\n\t\t\t\tthis.physical = physical;\r\n\t\t\t\tthis.capita = capita;\r\n\t\t\t},\r\n\t\t\tadd(amount,index,id,state,price,image,input){\r\n\t\t\t\tthis.addOrReduce(amount,index,id,state,price,image,input)\r\n\t\t\t\t// 方法一：更改this.newRightArr[index].amount中的amount值;\r\n\t\t\t\t// 限制购买10份：\r\n\t\t\t\t// amount < 10 ? amount++ : amount = 10;\r\n\t\t\t\t// this.newRightArr[index].amount = amount;\r\n\t\t\t\t// var findArr = this.newRightArr.map(item=>{\r\n\t\t\t\t// \treturn item;\r\n\t\t\t\t// })\r\n\t\t\t\t// 注意点：必需要有一个新数组赋值给this.newRightArr，直接在this.newRightArr中更改无效\r\n\t\t\t\t// this.newRightArr = findArr;\r\n\t\t\t\t\r\n\t\t\t\t// ----------------------------------------------------------------------------------------------------------\r\n\t\t\t\t\r\n\t\t\t\t// 方法二：需要在add中传递参数amount和input值\r\n\t\t\t\t// \tlet findArr = this.newRightArr.filter(item=>{\r\n\t\t\t\t// \t\tif(item.input == input){\r\n\t\t\t\t// \t\t\tif(amount < 0){\r\n\t\t\t\t// \t\t\t\treturn item.amount = 0;\r\n\t\t\t\t// \t\t\t}else{\r\n\t\t\t\t// \t\t\t\treturn item.amount = amount+1;\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tthis.newRightArr = findArr;\r\n\t\t\t},\r\n\t\t\t// 点击-号减少份数(与点击增加相同，可以封装一个函数：addOrReduce)\r\n\t\t\treduce(amount,index,id,state,price,image,input){\r\n\t\t\t\tthis.addOrReduce(amount,index,id,state,price,image,input)\r\n\t\t\t\t// 防重复点击：\r\n\t\t\t\t// if(amount == this.clickReduce){\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \tthis.clickReduce = amount;\r\n\t\t\t\t// }\r\n\t\t\t\t// // 判断份数是否为0\r\n\t\t\t\t// amount <= 0 ? amount = 0  : amount--;\r\n\t\t\t\t// this.newRightArr[index].amount = amount;\r\n\t\t\t\t// var findArr = this.newRightArr.map(item=>{\r\n\t\t\t\t// \treturn item;\r\n\t\t\t\t// })\r\n\t\t\t\t// this.newRightArr = findArr;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 封装点击增加和减少函数\r\n\t\t\taddOrReduce(amount,index,id,state,price,image,input){\r\n\t\t\t\t/*\r\n\t\t\t\t*state=1 点击的是增加\r\n\t\t\t\t*state：-1 点击的是减少\r\n\t\t\t\t*/\r\n\t\t\t   \r\n\t\t\t   // 点的是加号\r\n\t\t\t\tif(state == 1){\r\n\t\t\t\t\tamount++;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//份数x单价:\r\n\t\t\t\t\t// parseFloat() 函数可解析一个字符串(这里传的是数字也可以)，并返回一个浮点数，浮点数有toFixed方法，保留小数点后几位\r\n\t\t\t\t\tvar TotalPrice = parseFloat(amount*price).toFixed(2);\r\n\t\t\t\t\t\r\n// =======================================================点击+号把商品的信息存放到对象并且去重push到数组中======================================\r\n\r\n\t\t\t\t\t// 定义的空对象：放点击或者删除后生成的数据存入该对象\r\n\t\t\t\t\tconst deleteObjInArr = {\r\n\t\t\t\t\t\tTotalPrice,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\timage,\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\tprice\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.allOrderPrice.push(deleteObjInArr);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet newAllOrderPrice =  this.allOrderPrice.map(item=>{\r\n\t\t\t\t\t\treturn item.id == id ? deleteObjInArr : item;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.allOrderPrice = newAllOrderPrice;\r\n\t\t\t\t\t\r\n// =====================================================================点击+号结尾=============================================================\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\t/*\t备注：\r\n\t\t\t\t\t\t*点的是-号\r\n\t\t\t\t\t\t*减少数量amount不能小于0\r\n\t\t\t\t\t*/\r\n\t\t\t\t\t// 判断amount是否小于0\r\n\t\t\t\t\tamount < 1 ? amount = 0 : amount--;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar TotalPrice = amount * price\r\n\t\t\t\t\t\r\n// =======================================================点击-号把商品的信息存放到对象并且去重push到数组中======================================\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 定义的空对象：放点击或者删除后生成的数据存入该对象\r\n\t\t\t\t\tconst deleteObjInArr = {\r\n\t\t\t\t\t\tTotalPrice,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\timage,\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\tprice\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.allOrderPrice.push(deleteObjInArr);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet newAllOrderPrice =  this.allOrderPrice.map(item=>{\r\n\t\t\t\t\t\treturn item.id == id ? deleteObjInArr : item;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.allOrderPrice = newAllOrderPrice;\r\n// ================================================================点击-号结尾===================================================================\r\n\t\t\t\t}\r\n\t\t\t\t\r\n// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++加减公共部分++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n\t\t\t\t\t// \r\n\t\t\t\t\t// 点的商家里的第几个商品,将其属性amount并且属性值改为amount经过计算后的赋值\r\n\t\t\t\t\tthis.newRightArr[index].amount = amount;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 变更amount后重新遍历数组返回新的数组findArr\r\n\t\t\t\t\tvar findArr = this.newRightArr.map(item=>{\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 遍历完成后赋值给 this.newRightAr,然后遍历到内容中\r\n\t\t\t\t\tthis.newRightArr = findArr;\r\n// ++++++++++++++++++++++++++++++++++++++++++++++++++++++公共部分++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n\t\t\t}\r\n\t\t },\r\n\t\t watch:{\r\n\t\t\t// 用户进入页面默认展示第一个tab键上(盖浇饭),并且展示第一个tab键下的内容\r\n\t\t\torderingdata(newValue){\r\n\t\t\t\tthis.clickOrInitLoad(newValue)\r\n\t\t\t},\r\n\t\t\t// 总价计算区域中的配送费，起送价、原价\r\n\t\t\t// busidata(newValue){\r\n\t\t\t// \tconst { delivering,physical,capita } = newValue[0];\r\n\t\t\t// \t// 暂存一下数组newValue[0],为什么要暂存？因为mounted在watch之前执行，暂存数组留着mounted使用，否则mounted拿不到数据(如果不适用定时器的话)\r\n\t\t\t// \tthis.initBottomData(delivering,physical,capita)\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\t// 监听allOrderPrice\r\n\t\t\tallOrderPrice(){\r\n\t\t\t\t// 监听总价\r\n\t\t\t\t // 数组对象去重：累加器reduce()\r\n\t\t\t\t\tlet testObj = {}\r\n\t\t\t\t\tlet uniqueArr = this.allOrderPrice.reduce((pre,cur)=>{\r\n\t\t\t\t\t\t// console.log(pre)\r\n\t\t\t\t\t\t// console.log(cur)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 下面中三元判断说明：\r\n\t\t\t\t\t\t// 1).? '' 代表testObj对象中能找到index的值，不需要push到数组中的，因此不做任何改变保持原样\r\n\t\t\t\t\t\t// 2:testObj[cur.index] = true 代表testObj不能找到index的值，因此需要push到数组中testObj[cur.index] = true &&\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 方法一：testObj[cur.id] ? '' :  testObj[cur.id] = true && pre.push(cur)\r\n\t\t\t\t\t\t// 方法二：(判断重复也是不变的上次pre，一下是push改变后的pre)\r\n\t\t\t\t\t\tif(!testObj[cur.id]){\r\n\t\t\t\t\t\t\ttestObj[cur.id]=cur.id;\r\n\t\t\t\t\t\t\tpre.push(cur)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn pre;\r\n\t\t\r\n\t\t\t\t\t},[])\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ------------------------------------------------------------------------------------------------------------------------\r\n\t\t\t\t\t// 为获取最终结果预设的值\r\n\t\t\t\t\tvar temp = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 外卖旗手旁边的累计数\r\n\t\t\t\t\tvar allNums = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 计算商品总价：\r\n\t\t\t\t\tfor(var i = 0;i<uniqueArr.length;i++){\r\n\t\t\t\t\t\ttemp = temp + Number(uniqueArr[i].TotalPrice)\r\n\t\t\t\t\t\tallNums = allNums + Number(uniqueArr[i].amount)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 只赋值最终结果,浮点数修正(toFixed(1)参数1代表保留的小数点后1位)\r\n\t\t\t\t\tthis.eachCounts = parseFloat(temp).toFixed(1);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//每种商品选择的份数总和\r\n\t\t\t\t\tthis.allNums = allNums;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(parseFloat(this.eachCounts) == 0){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 当价格为0时，显示不保留的小数点后几位\r\n\t\t\t\t\t\tthis.eachCounts = 0;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 所有商品选择份数为0时显示的图片\r\n\t\t\t\t\t\tthis.showOrHide = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 所有商品选择份数不为0时显示的图片\r\n\t\t\t\t\t\tthis.showOrHide = false;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t },\r\n\r\n\t\t computed:{\r\n\t\t\t priceDifer(){\r\n\t\t\t\tlet  allPrice = parseFloat(Number(this.capita) - Number(this.eachCounts)).toFixed(1);\r\n\t\t\t\tif(allPrice <= 0){\r\n\t\t\t\t\tthis.allMoneys = false;\r\n\t\t\t\t\tthis.payMoney = Number(this.eachCounts) + Number(this.delivering);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.allMoneys = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn allPrice;\r\n\t\t\t },\r\n\t\t\t ...mapState(['screendata'])\r\n\t\t },\r\n\t\t // \r\n\t\t mounted() {\r\n\t\t\t // 为什么要使用setTimeout定时器？令其要让mounted在watch在mounted之前调用，watch暂存数据后,mounted才可以拿到暂存的数据\r\n\t\t\t \r\n\t\t\t setTimeout(()=>{\r\n\t\t\t\t // 当页面加载完成时渲染页面与上orderingdata(newValue)类似，以上需要点击\r\n\t\t\t\t this.clickOrInitLoad(this.orderingdata);\r\n\t\t\t\t \r\n\t\t\t\tconst { delivering,physical,capita } = this.screendata.busidataarr[0];\r\n\t\t\t\tthis.initBottomData(delivering,physical,capita)\r\n\t\t\t },400)\r\n\t\t }\r\n\t}\n</script>\n<style scoped>\r\n\t.ordering-fls{display: flex; justify-content: space-between;}\r\n\t/* 左边商品分类 */\r\n\t.ordering-left{width: 190upx; background: #F0F0F0;\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n\r\n\t}\r\n\t.ordering-left text{\r\n\tcolor: #a8a8a8;\r\n\tdisplay: block;\r\n\tfont-size: 28upx;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\ttext-align: center;}\r\n\t.leftRctiveord{background-color: #fafafa !important; font-weight: bold !important;}\r\n\t\r\n\t/* 右边 */\r\n\t.ordering-right{width: 100%;\r\n\tpadding: 9upx 9upx 9upx 9upx;\r\n\toverflow: hidden;\r\n\toverflow-y: auto;\r\n\t}\r\n\t.ordering-right-title{font-size: 28upx;\r\n\theight: 60upx;\r\n\tline-height: 60upx;}\r\n\t\r\n\t.content-view{\r\n\tdisplay: flex; justify-content: space-between;\r\n\theight: 200upx !important; overflow: hidden;\r\n\tmargin: 30upx 0;\r\n\tcolor: #898989;\r\n\t}\r\n\t.content-img{width: 180rpx !important; height: 200rpx !important;\r\n\toverflow: hidden;\r\n\t}\r\n\t.content-img image{width: 100%; height: 100%; border-radius: 10upx;\r\n\toverflow: hidden;}\r\n\t.content-title{\r\n\t/* width: 100%; */\r\n\tpadding-left: 10upx;\r\n\tfont-size: 24upx;\r\n\t}\r\n\t\r\n\t.conteng-take{\r\n\tcolor: #333333;\r\n\theight: 50upx; font-size: 33upx;\r\n\tfont-weight: bold;\r\n\tline-height: 50upx;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 1;\r\n\toverflow: hidden;}\r\n\t.conteng-monthly{display: flex;\r\n\t}\r\n\t.conteng-monthly text{background: #f1f1f1;\r\n\tmargin-right: 9upx;\r\n\tpadding: 4upx 13upx;\r\n\tborder-radius: 7upx;\r\n\tdisplay: block;\r\n\t}\r\n\t.conteng-starting{display: flex;\r\n\talign-items: center;\r\n\theight: 50upx;\r\n\tline-height: 50upx;}\r\n\t.conteng-price image{width: 60upx; height: 60upx;}\r\n\t.conteng-price{display: flex; align-items: center;width:346.32upx ;}\r\n\t.ordering-price{display: flex;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n\tmargin-right: 20upx;\r\n\twidth: 100%;\r\n\t}\r\n\t/* 数量 */\r\n\t.amounting{\r\n\twidth: 50upx;\r\n\ttext-align: center;}\r\n\t.conteng-hua{text-decoration: line-through;font-size: 33upx;\r\n\t}\r\n\t.conteng-shi{color: #fb4e44; font-size: 33upx;\r\n\twidth: 180upx;\r\n\toverflow: hidden;\r\n\t}\r\n\t\r\n\t/* 购物车 */\r\n\t.total{position: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\t}\r\n\t.total-left{\r\n\theight: 130upx;\r\n\tbackground: #000000; flex-grow: 2;\r\n\tborder-top-left-radius: 50upx;\r\n\tborder-bottom-left-radius: 50upx;\r\n\t}\r\n\t.total-right{\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\theight: 130upx;\r\n\tline-height: 130upx;\r\n\tfont-size: 30upx;\r\n\tcolor: #7f7f7f;\r\n\ttext-align: center;\r\n\tbackground: #000000; flex-grow: 1;\r\n\tborder-top-right-radius: 50upx;\r\n\tborder-bottom-right-radius: 50upx;}\r\n\t.total-dis{display: flex;\r\n\theight: 130upx;\r\n\tmargin: 0 20upx;\r\n\t}\r\n\t.total-right .capita{\r\n\t\tcolor: #FFD100;\r\n\t}\r\n\t.pay{\r\n\t\tborder-top-right-radius: 50upx;\r\n\t\tborder-bottom-right-radius: 50upx;\r\n\t\tbackground-color: #FFD100;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.qishou{width: 120upx; height: 150upx;\r\n\tposition: fixed;\r\n\tbottom: 0upx;\r\n\tleft: 50upx;\r\n\t}\r\n\t.qishou image{width: 120upx; height: 150upx !important;}\r\n\t/* 定位 */\r\n\t.Delivery{color: #999999;\r\n\tfont-size: 28upx;\r\n\theight: 65upx;}\r\n\t.total-left text{display: block;}\r\n\t.Total-price{font-size: 40upx; color: #FFFFFF;\r\n\theight: 65upx;\r\n\tline-height: 65upx;\r\n\t}\r\n\t.Cost-mony{padding-left: 170upx; color: #4CD964;\r\n\theight: 130upx;\r\n\t}\r\n\t/* 数量 */\r\n\t.Numbering{\r\n\tbackground: red;\r\n\twidth: 40upx;\r\n\theight: 40upx;\r\n\tborder-radius: 50%;\r\n\tfont-size: 20upx;\r\n\tcolor: #FFFFFF;\r\n\ttext-align: center;\r\n\tline-height: 40upx;\r\n\tposition: fixed;\r\n\tbottom: 50upx;\r\n\tleft: 130upx;}\r\n\t\r\n\t/* 选中菜品 */\r\n\t.shoppactive{background: #ffd300 !important;\r\n\tcolor: #000000 !important;}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628228924761\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}