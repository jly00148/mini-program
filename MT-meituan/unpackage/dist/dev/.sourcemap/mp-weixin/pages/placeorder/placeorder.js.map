{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?7096","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?5e16","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?84b4","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?1e14","uni-app:///pages/placeorder/placeorder.vue","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?29b2","webpack:///C:/Users/ASUS/github_depositories/mini-program/MT-meituan/pages/placeorder/placeorder.vue?6c3f"],"names":["createPage","Page"],"mappings":"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","file":"pages/placeorder/placeorder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/placeorder/placeorder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./placeorder.vue?vue&type=template&id=e7307e34&scoped=true&\"\nvar renderjs\nimport script from \"./placeorder.vue?vue&type=script&lang=js&\"\nexport * from \"./placeorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./placeorder.vue?vue&type=style&index=0&id=e7307e34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7307e34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/placeorder/placeorder.vue\"\nexport default component.exports","export * from \"-!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeorder.vue?vue&type=template&id=e7307e34&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeorder.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<view class=\"place-view\">\r\n\t\t\t<!-- 已选中收货地址 -->\r\n\t\t\t<view class=\"goods-address\" >\r\n\t\t\t\t<view class=\"goods-address-box border-bottom\">\r\n\t\t\t\t\t<view class=\"goods-address-left\">\r\n\t\t\t\t\t\t<image src=\"../../static/coen/address.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goods-address-in\">\r\n\t\t\t\t\t\t<view class=\"goods-address-name\">\r\n\t\t\t\t\t\t<!-- \t<text>{{address}}</text>\r\n\t\t\t\t\t\t\t<text>{{username +' '+ tel}}</text> -->\r\n\t\t\t\t\t\t\t<text>用户姓名:</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goods-address-right\">\r\n\t\t\t\t\t\t<image src=\"../../static/coen/jiantou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"place-time border-bottom\">\r\n\t\t\t\t<image src=\"../../static/coen/times.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text>用户地址:</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"place-time border-bottom\">\r\n\t\t\t\t<image src=\"../../static/coen/times.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text>联系方式:</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"place-addres border-bottom\" @click=\"addAddress()\">\r\n\t\t\t\t选择收货地址\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 菜单 -->\r\n\t\t<view class=\"place-view\">\r\n\t\t\t<text>订单列表:</text>\r\n\t\t\t<view class=\"uniqueArr-wrap\">\r\n\t\t\t\t<block v-for=\"(item,index) in uniqueArr\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"order-view\">\r\n\t\t\t\t\t\t<view class=\"order-img\">\r\n\t\t\t\t\t\t\t<image  :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-title\">\r\n\t\t\t\t\t\t\t<text>{{item.TotalPrice}}</text>\r\n\t\t\t\t\t\t\t<text>x{{item.amount}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-price\">\r\n\t\t\t\t\t\t\t单价:¥{{item.price}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 配送费 -->\r\n\t\t<view class=\"place-view\">\r\n\t\t\t<view class=\"Delivery\">配送费:¥{{delivering}}</view>\r\n\t\t</view>\r\n\t\t<!-- 高度 -->\r\n\t\t<view style=\"height: 140upx;\"></view>\r\n\t\t<!-- 支付 -->\r\n\t\t<view class=\"payment\">\r\n\t\t\t<view class=\"payment-left\">\r\n\t\t\t\t<text>合计¥:{{payment+delivering}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"payment-right\" @click=\"toPay()\">\r\n\t\t\t\t去支付\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 提示组件 -->\r\n\t\t<HMmessages ref=\"HMmessages\" @complete=\"HMmessages = $refs.HMmessages\" @clickMessage=\"clickMessage\"></HMmessages>\r\n\t</view>\r\n\t\t\n</template>\n\n<script>\r\n\timport { wxPaymentUrl } from '../../api/request.js';\r\n\timport allApi from '../../api/api.js';\r\n\timport HMmessages from \"@/components/HM-messages/HM-messages.vue\";\r\n\t\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\tHMmessages\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tpayment:'',\r\n\t\t\t\tdelivering:0,\r\n\t\t\t\topenid:'',\r\n\t\t\t\tmerchantId:'',\r\n\t\t\t\tlog:'',\r\n\t\t\t\tallNums:'',\r\n\t\t\t\tuniqueArr:[{}],\r\n\t\t\t\t// 收货地址\r\n\t\t\t\taddress:'深圳市龙华区民治大道',\r\n\t\t\t\tusername:'你的名字',\r\n\t\t\t\ttel:'20210814',\r\n\t\t\t\tshopname:'',\r\n\t\t\t\ttipsText:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(obj) {\r\n\t\t\tconst ideObj = JSON.parse(obj.ide);\r\n\t\t\t\r\n\t\t\t// 商品的总价\r\n\t\t\tthis.payment=ideObj.payment;\r\n\t\t\t// 配送费\r\n\t\t\tthis.delivering=ideObj.delivering;\r\n\t\t\t// 用户openid\r\n\t\t\tthis.openid=ideObj.openid;\r\n\t\t\t// 商家标识\r\n\t\t\tthis.merchantId=ideObj.merchantId;\r\n\t\t\t// 商家logo\r\n\t\t\tthis.logo = ideObj.logo;\r\n\t\t\t// 点的商品份数\r\n\t\t\tthis.allNums=ideObj.allNums;\r\n\t\t\t// 商家标识\r\n\t\t\tthis.merchantId = ideObj.merchantId\r\n\t\t\t\r\n\t\t\t// 需要渲染的数据(已去重)\r\n\t\t\tthis.uniqueArr = ideObj.uniqueArr;\r\n\t\t\t\r\n\t\t\t// 商家名称\r\n\t\t\tthis.shopname = ideObj.shopname;\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\taddAddress(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/address/index'\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// wx.chooseAddress({\r\n\t\t\t\t// \tsuccess:res=>{\r\n\t\t\t\t// \t\t\tthis.address = res.cityName + res.countyName + res.detailInfo\r\n\t\t\t\t// \t\t\tthis.username = res.userName;\r\n\t\t\t\t// \t\t\tthis.tel = res.telNumber;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 发起微信支付：\r\n\t\t\tasync toPay(){\r\n\t\t\t\t\r\n\t\t\t\t// 发起微信支付的数据\r\n\t\t\t\t/*\r\n\t\t\t\t\t*1.下单客户信息\r\n\t\t\t\t\t*2.商家信息\r\n\t\t\t\t*/\r\n\t\t\t   \r\n\t\t\t\t\t// 1.下单客户信息\r\n\t\t\t\tlet peopleobj = {\r\n\t\t\t\t\taddress:this.address,\r\n\t\t\t\t\tname:this.username,\r\n\t\t\t\t\tiphone:this.tel\r\n\t\t\t\t}\r\n\t\t\t\t// ------------------------------------------------------------------------------\r\n\t\t\t\t// 2.商家信息\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tlet merchantid =this.merchantId;\r\n\t\t\t\t\r\n\t\t\t\t// 截取商家标识字符串\r\n\t\t\t\tlet ide = this.merchantId.slice(0,7)\r\n\t\t\t\t\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tlet commod = this.shopname\r\n\t\t\t\t\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tlet logo = this.logo;\r\n\t\t\t\t// -----------------------------------------------------------------------------\r\n\t\t\t\t\r\n\t\t\t\t// 把发送给后台的数据以对象的形式存储\r\n\t\t\t\tlet Paymentinfor = {\r\n\t\t\t\t\ttype:'placeOrder',//请求类型\r\n\t\t\t\t\tpeopleobj,//客户信息\r\n\t\t\t\t\tarrinfo:this.uniqueArr,//客户选中的订单\r\n\t\t\t\t\tmerchantid,//商家标识\r\n\t\t\t\t\tide,//商家标志字符串截取前7位数\r\n\t\t\t\t\tcommod,//商家名称\r\n\t\t\t\t\tlogo,//商家logo\r\n\t\t\t\t\tuseropenid:this.openid,//用户openid\r\n\t\t\t\t\tpayment:this.payment + this.delivering // 支付的总价：\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// es6:async sawit 异步编程同步化，分三步:\r\n\t\t\t\t/*\r\n\t\t\t\t\t1.统一下单\r\n\t\t\t\t\t2.发起支付\r\n\t\t\t\t\t3.\r\n\t\t\t\t*/\r\n\t\t\t   \r\n\t\t\t\t// 1.统一下单:\r\n\t\t\t\tlet placeorder = await this.placeOrder(Paymentinfor)\r\n\t\t\t\tlet placeorderobj = placeorder[1].data.datas;\r\n\t\t\t\t\r\n\t\t\t\t// 2.发起支付:\r\n\t\t\t\tlet wxpay = await this.wxPays(placeorderobj)\r\n\t\t\t\t\r\n\t\t\t\t// 3.查询时候支付成功\r\n\t\t\t\tlet paysucc = await this.paySucc(wxpay)\r\n\t\t\t\tthis.tipsText = '网络错误'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 1.统一下单：\r\n\t\t\tplaceOrder(Paymentinfor){\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\tallApi(wxPaymentUrl,'POST',Paymentinfor)\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.HMmessages.show('余额不足，无法支付',{icon:'error',background:'#F78181',duration:3000})\r\n\t\t\t\t\t\t// res[1].data.datas返回的值说明：\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tnonceStr: \"UCbMTLPh5ZNskhHR\" //随机字符串\r\n\t\t\t\t\t\t\tout_trade_no: \"5dfcf32-1628716988838\" // 商户订单号\r\n\t\t\t\t\t\t\tpayauto: \"5689754C5CAE383B32A63165B70E44F0\" //签名\r\n\t\t\t\t\t\t\tprepayId://预支付交易会话标识数据包。(缺少返回，无营业执照用不了真正的支付)\r\n\t\t\t\t\t\t\ttime_stamp: \"1628716989\" //时间戳,从1970年1月1日 00:00:00至今的秒数，即当前的时间\r\n\t\t\t\t\t\t\t_id: \"61143fbdc2ec5207cfe9c40b\" //订单标识id\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// resolve(res)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\treject(err,'支付错误')\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 2.发起支付请求\r\n\t\t\twxPays(placeorderobj){\r\n\t\t\t\t// timeStamp应该是String而不是Undefined;参数。package应该是String而不是Undefined\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\twx.requestPayment({\r\n\t\t\t\t\t\t// 发起支付主要参数：\r\n\t\t\t\t\t\ttimeStamp:placeorderobj.time_stamp,//时间截，必填，从1970年1月1日 00:00:00至今的秒数，即当前的时间\r\n\t\t\t\t\t\tnonceStr:placeorderobj.nonceStr, //随机字符串，必填，长度为32个字符以下\r\n\t\t\t\t\t\tpackage:`prepay_id=${placeorderobj.prepayId}`,// 统一下单接口返回的prepay_id参数，必填，提交格式为prepay_id=***\r\n\t\t\t\t\t\tsignType:'MD5',//签名算法 非必填\r\n\t\t\t\t\t\tpaySign:placeorderobj.payauto,//签名，必填\r\n\t\t\t\t\t\t// 调用接口成功的回调函数\r\n\t\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// 调用接口失败的回调函数\r\n\t\t\t\t\t\tfail:err=>{\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t\tlet succ = '取消支付';\r\n\t\t\t\t\t\t\tlet ico = 'success';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 3.\r\n\t\t\tpaySucc(wxpay){\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\ttype:'paysucc',\r\n\t\t\t\t\t\tout_trade_no:wxpay.out_trade_no,\r\n\t\t\t\t\t\tid:wxpay._id,\r\n\t\t\t\t\t\tmerchantid:this.merchantId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tallApi(wexpayingUrl,'POST',data)\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\tpage{background: #F4f4f4}\n\t.place-view{background: #FFFFFF;\n\tmargin: 20upx;\n\tborder-radius: 9upx;\n\t}\r\n\t.border-bottom{\r\n\t\tborder-bottom: 1rpx solid #F4f4f4;\r\n\t}\r\n\t.place-addres{\r\n\tborder: 1rpx solid #ffb000;\n\twidth: 400upx;\n\theight: 80upx;\n\tline-height: 80upx;\n\tborder-radius: 50upx;\n\ttext-align: center;\n\tcolor: #ffb000;\n\tmargin: 40upx auto;\r\n\tfont-size: 30upx;\n\t}\n\t.place-time image{width: 40upx; height: 40upx;}\n\t.place-time{display: flex; align-items: center; font-size: 30upx;\n\tpadding-top: 25upx;\n\tmargin-top: 35upx;\n\t}\n\t/* 菜单 */\r\n\t.uniqueArr-wrap{\r\n\t\tborder-top: 1px #f2f2f2 solid;\r\n\t}\r\n\t.order-view{display: flex;\n\theight: 150upx !important; overflow: hidden;\n\tmargin-bottom: 10upx;\n\tfont-size: 30upx;\r\n\tborder-bottom: 1upx #f2f2f2 solid;\n\t}\r\n\t.order-view text{display: block;}\n\t.order-img{width: 200upx !important; height: 150upx !important;\n\tpadding-right: 15upx;\n\t}\n\t.order-img image{width: 100%; height: 100%;\n\t}\n\t.order-title{flex-grow: 1;}\n\t.order-title text:nth-child(2){color: #999999; font-size: 25upx;}\n\t.Delivery{\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tfont-size: 30upx;}\n\t/* 支付 */\n\t.payment{background: #FFFFFF;\n\theight: 120upx;\n\tposition: fixed;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0 30upx;}\n\t.payment-left{display: flex; align-items: center;\n\tfont-size: 30upx;}\n\t.payment-left text:nth-child(2){\r\n\t\tfont-weight: bold; \r\n\t\tfont-size: 32upx;\r\n\t}\n\t.payment-right{\r\n\t\tbackground: #FFD100; color: #FFFFFF;\n\t\tpadding: 20upx 60upx;\n\t\tfont-size: 30upx;\n\t\tborder-radius: 7upx;\r\n\t}\n\t/* 收货地址 */\r\n\t.goods-address{\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\t.goods-address-box{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 30upx;\r\n\t}\n\t.goods-address-left{\r\n\t\twidth: 40upx; \r\n\t\theight: 40upx; \r\n\t\tpadding-right: 20upx;\r\n\t}\n\t.goods-address-left image{\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t}\n\t\n\t.goods-address-right{\r\n\t\tflex-grow: 5;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t}\n\t.goods-address-right image{\r\n\t\twidth: 40upx; \r\n\t\theight: 40upx;\r\n\t}\n\n\t.goods-address-in{\r\n\t\tflex-grow: 1;\r\n\t}\r\n\t.goods-address-name{\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeorder.vue?vue&type=style&index=0&id=e7307e34&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software_download\\\\hbuildx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./placeorder.vue?vue&type=style&index=0&id=e7307e34&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631064589635\n      var cssReload = require(\"D:/software_download/hbuildx/HBuilderX.3.2.3.20210825.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}